{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CapitalCalcComponent = class CapitalCalcComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.items = [];\n    this.materialsNames = [];\n    this.partsSum = new Array(34);\n  }\n  ngOnInit() {\n    this.dataService.getCapitalItemsGet$Json().subscribe(x => {\n      console.log(x);\n      this.items = x;\n    });\n    this.dataService.getMaterialsNamesGet$Json().subscribe(x => {\n      console.log(x);\n      this.partsSum.push(x.length);\n      this.partsSum.fill(0);\n      this.materialsNames = x;\n    });\n  }\n  calcPart(itemid, value) {\n    let a = this.items.filter(x => x.id === itemid)[0];\n    console.log(a);\n    for (let i = 0; i < a.compositions.length; i++) {\n      this.partsSum[a.compositions[i].material] += a.compositions[i].amount * value / 1728;\n    }\n  }\n};\nCapitalCalcComponent = __decorate([Component({\n  selector: 'app-capital-calc',\n  templateUrl: './capital-calc.component.html',\n  styleUrls: ['./capital-calc.component.css']\n})], CapitalCalcComponent);\nexport { CapitalCalcComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAI/BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAH/B,UAAK,GAAoB,EAAE;IAC3B,mBAAc,GAAwB,EAAE;IACxC,aAAQ,GAAkB,IAAIC,KAAK,CAAS,EAAE,CAAC;EAG/C;EAEAC,QAAQ;IAEN,IAAI,CAACF,WAAW,CAACG,uBAAuB,EAAE,CAACC,SAAS,CAACC,CAAC,IAAG;MACvDC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd,IAAI,CAACG,KAAK,GAAGH,CAAC;IAChB,CAAC,CAAC;IACF,IAAI,CAACL,WAAW,CAACS,yBAAyB,EAAE,CAACL,SAAS,CAACC,CAAC,IAAG;MACzDC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd,IAAI,CAACK,QAAQ,CAACC,IAAI,CAACN,CAAC,CAACO,MAAM,CAAC;MAC5B,IAAI,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC;MACrB,IAAI,CAACC,cAAc,GAAGT,CAAC;IACzB,CAAC,CAAC;EACJ;EACAU,QAAQ,CAACC,MAAc,EAAEC,KAAa;IACpC,IAAIC,CAAC,GAAG,IAAI,CAACV,KAAK,CAACW,MAAM,CAAEd,CAAC,IAAKA,CAAC,CAACe,EAAE,KAAKJ,MAAM,CAAC,CAAC,CAAC,CAAC;IACpDV,OAAO,CAACC,GAAG,CAACW,CAAC,CAAC;IACd,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,CAAC,CAACI,YAAY,CAACV,MAAM,EAAES,CAAC,EAAE,EAAE;MAC9C,IAAI,CAACX,QAAQ,CAACQ,CAAC,CAACI,YAAY,CAACD,CAAC,CAAC,CAACE,QAAQ,CAAC,IAAKL,CAAC,CAACI,YAAY,CAACD,CAAC,CAAC,CAACG,MAAM,GAAGP,KAAK,GAAG,IAAK;;EAE1F;CACD;AA5BYnB,oBAAoB,eALhCD,SAAS,CAAC;EACT4B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW7B,oBAAoB,CA4BhC;SA5BYA,oBAAoB","names":["Component","CapitalCalcComponent","constructor","dataService","Array","ngOnInit","getCapitalItemsGet$Json","subscribe","x","console","log","items","getMaterialsNamesGet$Json","partsSum","push","length","fill","materialsNames","calcPart","itemid","value","a","filter","id","i","compositions","material","amount","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\Projects\\Project1\\ClientApp\\src\\app\\capital-calc\\capital-calc.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ItemOutputDto, MaterialsNamesDto } from '../api/models';\r\nimport { MainService } from '../api/services';\r\n\n@Component({\n  selector: 'app-capital-calc',\n  templateUrl: './capital-calc.component.html',\n  styleUrls: ['./capital-calc.component.css']\n})\nexport class CapitalCalcComponent implements OnInit {\n  items: ItemOutputDto[] = []\n  materialsNames: MaterialsNamesDto[] = []\n  partsSum: Array<number> = new Array<number>(34)\n  constructor(private dataService: MainService) {\n\n  }\n\n  ngOnInit(): void {\r\n    \r\n    this.dataService.getCapitalItemsGet$Json().subscribe(x => {\r\n      console.log(x);\r\n      this.items = x;\r\n    });\r\n    this.dataService.getMaterialsNamesGet$Json().subscribe(x => {\r\n      console.log(x);\r\n      this.partsSum.push(x.length);\r\n      this.partsSum.fill(0);\r\n      this.materialsNames = x;\r\n    });\r\n  }\r\n  calcPart(itemid: number, value: number) {\r\n    let a = this.items.filter((x) => x.id === itemid)[0];\r\n    console.log(a);\r\n    for (let i = 0; i < a.compositions.length; i++) {\r\n      this.partsSum[a.compositions[i].material] += (a.compositions[i].amount * value / 1728);\r\n      }\r\n  }\r\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}